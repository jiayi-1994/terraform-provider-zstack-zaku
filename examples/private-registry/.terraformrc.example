# .terraformrc 配置示例 - 使用 Hermitcrab 私有仓库
# 将此文件复制到以下位置之一：
# - Windows: %APPDATA%\terraform.rc
# - Linux/Mac: ~/.terraformrc
# - 项目目录: .terraformrc (需要设置 TF_CLI_CONFIG_FILE 环境变量)

provider_installation {
  # 方法 1: 使用 network_mirror (推荐)
  # 这种方式最简单，适合大多数场景
  network_mirror {
    url = "http://your-hermitcrab-host:5000/v1/providers/"
    # 可以指定只使用镜像的 provider
    include = ["registry.terraform.io/zstack/*"]
  }

  # 对于其他 provider，使用官方源
  direct {
    exclude = ["registry.terraform.io/zstack/*"]
  }
}

# 方法 2: 仅使用私有仓库
# provider_installation {
#   network_mirror {
#     url = "http://your-hermitcrab-host:5000/v1/providers/"
#   }
# }

# 方法 3: 混合使用多个源
# provider_installation {
#   # 优先使用私有仓库
#   network_mirror {
#     url = "http://your-hermitcrab-host:5000/v1/providers/"
#     include = ["registry.terraform.io/zstack/*"]
#   }
#   
#   # 其次使用公司镜像
#   network_mirror {
#     url = "https://terraform-mirror.company.com/"
#     include = ["registry.terraform.io/*/*"]
#   }
#   
#   # 最后使用官方源
#   direct {}
# }

# 开发模式配置（本地开发时使用）
# provider_installation {
#   dev_overrides {
#     "registry.terraform.io/zstack/zstack-zaku" = "F:/other-code/terraform-lean/terraform-provider-zstack"
#   }
#   
#   # 对于其他 providers，使用正常安装
#   direct {}
# }
